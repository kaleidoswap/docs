
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Introduction Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="./" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./#1-introduction">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="./">
            
                <a href="./#2-getting-started">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./#3-endpoints">
            
                    
                    Endpoints
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="./">
            
                <a href="./#31-rgb-lsps1-apis">
            
                    
                    RGB LSPS1 APIs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="./">
            
                <a href="./#311-get-lsp-information">
            
                    
                    Get LSP Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="./">
            
                <a href="./#312-create-order">
            
                    
                    Create Order
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="./">
            
                <a href="./#313-get-order">
            
                    
                    Get Order
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="./">
            
                <a href="./#32-market-apis">
            
                    
                    Market APIs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="./">
            
                <a href="./#321-list-assets">
            
                    
                    List Assets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="./">
            
                <a href="./#322-list-trading-pairs">
            
                    
                    List Trading Pairs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="./">
            
                <a href="./#33-swap-apis">
            
                    
                    Swap APIs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="./">
            
                <a href="./#331-get-node-information">
            
                    
                    Get Node Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="./">
            
                <a href="./#332-real-time-price-updates">
            
                    
                    Real-time Price Updates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="./">
            
                <a href="./#333-initiate-swap">
            
                    
                    Initiate Swap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.4" data-path="./">
            
                <a href="./#334-execute-swap">
            
                    
                    Execute Swap
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./#4-error-handling">
            
                    
                    Error Handling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="./">
            
                <a href="./#5-license">
            
                    
                    License
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Introduction</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p><img src="https://kaleidoswap.com/_astro/logo.23ce5f59.svg" alt="Kaleidoswap Logo"></p>
<h1 id="kaleidoswap-api-documentation">Kaleidoswap API Documentation</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#1-introduction">Introduction</a></li>
<li><a href="#2-getting-started">Getting Started</a></li>
<li><a href="#3-endpoints">Endpoints</a><ul>
<li><a href="#31-rgb-lsps1-apis">3.1 RGB LSPS1 APIs</a></li>
<li><a href="#32-market-apis">3.2 Market APIs</a></li>
<li><a href="#33-swap-apis">3.3 Swap APIs</a></li>
</ul>
</li>
<li><a href="#4-error-handling">Error Handling</a></li>
<li><a href="#5-license">License</a></li>
</ol>
<h2 id="1-introduction">1. Introduction</h2>
<p>The Kaleidoswap API allows interaction with an RGB Lightning Node (RLN) that provides liquidity on request and enables swap functionalities. The swap protocol operates on a taker-maker model, where clients can subscribe to trading pairs, receive real-time price updates, and initiate swaps. The API also supports the RGB LSPS1 (Lightning Service Provider Specification) for managing channels and liquidity services.</p>
<h3 id="key-features">Key Features</h3>
<ul>
<li><strong>LSPS1 (Lightning Service Provider Specification) Support</strong>: Liquidity services and swap functionalities following the modified LSPS1 protocol.</li>
<li><strong>Real-time Market Data</strong>: WebSocket-based subscription for price updates.</li>
<li><strong>Swap Protocol</strong>: Taker-maker model for initiating and executing swaps.</li>
<li><strong>Asset and Trading Pair Management</strong>: Comprehensive API for fetching supported assets and pairs.</li>
</ul>
<h2 id="2-getting-started">2. Getting Started</h2>
<h3 id="base-url">Base URL</h3>
<h4 id="testnet">Testnet</h4>
<ul>
<li><strong>Base URL:</strong> <code>https://api.testnet.kaleidoswap.com/api/v1</code></li>
</ul>
<h4 id="mainnet-coming-soon">Mainnet (Coming Soon)</h4>
<ul>
<li><strong>Base URL:</strong> <code>https://api.kaleidoswap.com/api/v1</code></li>
</ul>
<p>All API requests in the test environment should be sent to the base URL provided above.</p>
<h3 id="authentication">Authentication</h3>
<p>Currently, the API does not require authentication for its endpoints. Future versions may introduce authentication mechanisms.</p>
<h3 id="api-versioning">API Versioning</h3>
<p>The current API version is v1, reflected in the base URL.</p>
<h2 id="3-endpoints">3. Endpoints</h2>
<h3 id="31-rgb-lsps1-apis">3.1 RGB LSPS1 APIs</h3>
<h4 id="311-get-lsp-information">3.1.1 Get LSP Information</h4>
<h5 id="get-apiv1lsps1getinfo"><code>GET /api/v1/lsps1/get_info</code></h5>
<p><strong>Description:</strong> Retrieve information about the RGB Lightning Service Provider, including available assets, liquidity options, and order options.</p>
<p><strong>Response:</strong></p>
<ul>
<li><code>options</code>: Configuration settings for orders and channels.</li>
<li><code>assets</code>: List of assets managed by the LSP.</li>
</ul>
<p><strong>Example Response:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;options&quot;</span>: {
    <span class="hljs-string">&quot;min_required_channel_confirmations&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;min_funding_confirms_within_blocks&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;min_onchain_payment_confirmations&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;supports_zero_channel_reserve&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;min_onchain_payment_size_sat&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;max_channel_expiry_blocks&quot;</span>: <span class="hljs-number">30160</span>,
    <span class="hljs-string">&quot;min_initial_client_balance_sat&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;max_initial_client_balance_sat&quot;</span>: <span class="hljs-number">100000000</span>,
    <span class="hljs-string">&quot;min_initial_lsp_balance_sat&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;max_initial_lsp_balance_sat&quot;</span>: <span class="hljs-number">100000000</span>,
    <span class="hljs-string">&quot;min_channel_balance_sat&quot;</span>: <span class="hljs-number">50000</span>,
    <span class="hljs-string">&quot;max_channel_balance_sat&quot;</span>: <span class="hljs-number">100000000</span>
  },
  <span class="hljs-string">&quot;assets&quot;</span>: [
    {
      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Tether USD&quot;</span>,
      <span class="hljs-string">&quot;asset_id&quot;</span>: <span class="hljs-string">&quot;rgb:2NZGjyz-pJePUgegh-RLHbpx1Hy-iZMagWiZZ-qY4AxGymW-yCEYwwB&quot;</span>,
      <span class="hljs-string">&quot;ticker&quot;</span>: <span class="hljs-string">&quot;USDT&quot;</span>,
      <span class="hljs-string">&quot;precision&quot;</span>: <span class="hljs-number">6</span>,
      <span class="hljs-string">&quot;issued_supply&quot;</span>: <span class="hljs-number">100000000000</span>,
      <span class="hljs-string">&quot;min_initial_client_amount&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;max_initial_client_amount&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;min_initial_lsp_amount&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;max_initial_lsp_amount&quot;</span>: <span class="hljs-number">1000000</span>,
      <span class="hljs-string">&quot;min_channel_amount&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;max_channel_amount&quot;</span>: <span class="hljs-number">1000000</span>
    }
  ]
}
</code></pre>
<h4 id="312-create-order">3.1.2 Create Order</h4>
<h5 id="post-apiv1lsps1createorder"><code>POST /api/v1/lsps1/create_order</code></h5>
<p><strong>Description:</strong> Create a new order for a channel with the RGB Lightning Service Provider.</p>
<p><strong>Request Body:</strong></p>
<ul>
<li><code>client_pubkey</code>: The public key of the client (not spec compliant, but required in this implementation).</li>
<li><code>lsp_balance_sat</code>: The balance in satoshis for the LSP side of the channel.</li>
<li><code>client_balance_sat</code>: The balance in satoshis for the client side of the channel.</li>
<li><code>required_channel_confirmations</code>: The number of confirmations required for the channel.</li>
<li><code>funding_confirms_within_blocks</code>: The number of blocks within which funding should be confirmed.</li>
<li><code>channel_expiry_blocks</code>: The number of blocks after which the channel expires.</li>
<li><code>token</code>: (Optional) A token for the order.</li>
<li><code>refund_onchain_address</code>: (Optional) An on-chain address for refunds.</li>
<li><code>announce_channel</code>: Whether to announce the channel publicly.</li>
<li><code>asset_id</code>: (Optional) The ID of the RGB asset for the channel.</li>
<li><code>lsp_asset_amount</code>: (Optional) The amount of RGB asset for the LSP side.</li>
<li><code>client_asset_amount</code>: (Optional) The amount of RGB asset for the client side.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;client_pubkey&quot;</span>: <span class="hljs-string">&quot;03e7156ae33b0a208d0744199163177e909e80176e55d97a2f221ede0f934dd9ad&quot;</span>,
  <span class="hljs-string">&quot;lsp_balance_sat&quot;</span>: <span class="hljs-number">100000</span>,
  <span class="hljs-string">&quot;client_balance_sat&quot;</span>: <span class="hljs-number">50000</span>,
  <span class="hljs-string">&quot;required_channel_confirmations&quot;</span>: <span class="hljs-number">3</span>,
  <span class="hljs-string">&quot;funding_confirms_within_blocks&quot;</span>: <span class="hljs-number">144</span>,
  <span class="hljs-string">&quot;channel_expiry_blocks&quot;</span>: <span class="hljs-number">4032</span>,
  <span class="hljs-string">&quot;announce_channel&quot;</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">&quot;asset_id&quot;</span>: <span class="hljs-string">&quot;rgb:$i4cFKwt-2C5LZ3X-l$kOTGN-O6l1AOP-aP9COyn-7IeBkEM&quot;</span>,
  <span class="hljs-string">&quot;lsp_asset_amount&quot;</span>: <span class="hljs-number">5000</span>,
  <span class="hljs-string">&quot;client_asset_amount&quot;</span>: <span class="hljs-number">2500</span>
}
</code></pre>
<p><strong>Response:</strong></p>
<ul>
<li><code>order_id</code>: Unique identifier for the created order.</li>
<li><code>client_pubkey</code>: The public key of the client.</li>
<li><code>lsp_balance_sat</code>: The balance in satoshis for the LSP side of the channel.</li>
<li><code>client_balance_sat</code>: The balance in satoshis for the client side of the channel.</li>
<li><code>required_channel_confirmations</code>: The number of confirmations required for the channel.</li>
<li><code>funding_confirms_within_blocks</code>: The number of blocks within which funding should be confirmed.</li>
<li><code>channel_expiry_blocks</code>: The number of blocks after which the channel expires.</li>
<li><code>token</code>: The token associated with the order (if provided).</li>
<li><code>created_at</code>: Timestamp of order creation.</li>
<li><code>expires_at</code>: Timestamp when the order expires.</li>
<li><code>announce_channel</code>: Whether the channel will be announced publicly.</li>
<li><code>order_state</code>: Current state of the order (e.g., &quot;CREATED&quot;).</li>
<li><code>payment</code>: Payment details including fees, invoice, and on-chain address.</li>
<li><code>channel</code>: (Optional) Channel details if the channel has been created.</li>
<li><code>asset_id</code>: (Optional) The ID of the RGB asset for the channel.</li>
<li><code>lsp_asset_amount</code>: (Optional) The amount of RGB asset for the LSP side.</li>
<li><code>client_asset_amount</code>: (Optional) The amount of RGB asset for the client side.</li>
</ul>
<p><strong>Example Response:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;order_id&quot;</span>: <span class="hljs-string">&quot;550e8400-e29b-41d4-a716-446655440000&quot;</span>,
  <span class="hljs-string">&quot;client_pubkey&quot;</span>: <span class="hljs-string">&quot;03e7156ae33b0a208d0744199163177e909e80176e55d97a2f221ede0f934dd9ad&quot;</span>,
  <span class="hljs-string">&quot;lsp_balance_sat&quot;</span>: <span class="hljs-number">100000</span>,
  <span class="hljs-string">&quot;client_balance_sat&quot;</span>: <span class="hljs-number">50000</span>,
  <span class="hljs-string">&quot;required_channel_confirmations&quot;</span>: <span class="hljs-number">3</span>,
  <span class="hljs-string">&quot;funding_confirms_within_blocks&quot;</span>: <span class="hljs-number">144</span>,
  <span class="hljs-string">&quot;channel_expiry_blocks&quot;</span>: <span class="hljs-number">4032</span>,
  <span class="hljs-string">&quot;token&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
  <span class="hljs-string">&quot;created_at&quot;</span>: <span class="hljs-string">&quot;2023-08-28T12:00:00Z&quot;</span>,
  <span class="hljs-string">&quot;expires_at&quot;</span>: <span class="hljs-string">&quot;2023-08-28T13:00:00Z&quot;</span>,
  <span class="hljs-string">&quot;announce_channel&quot;</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">&quot;order_state&quot;</span>: <span class="hljs-string">&quot;CREATED&quot;</span>,
  <span class="hljs-string">&quot;payment&quot;</span>: {
    <span class="hljs-string">&quot;state&quot;</span>: <span class="hljs-string">&quot;EXPECT_PAYMENT&quot;</span>,
    <span class="hljs-string">&quot;fee_total_sat&quot;</span>: <span class="hljs-number">1500</span>,
    <span class="hljs-string">&quot;order_total_sat&quot;</span>: <span class="hljs-number">151500</span>,
    <span class="hljs-string">&quot;bolt11_invoice&quot;</span>: <span class="hljs-string">&quot;lnbc1515000n1...&quot;</span>,
    <span class="hljs-string">&quot;onchain_address&quot;</span>: <span class="hljs-string">&quot;bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh&quot;</span>,
    <span class="hljs-string">&quot;min_onchain_payment_confirmations&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;min_fee_for_0conf&quot;</span>: <span class="hljs-number">253</span>
  },
  <span class="hljs-string">&quot;asset_id&quot;</span>: <span class="hljs-string">&quot;rgb:$i4cFKwt-2C5LZ3X-l$kOTGN-O6l1AOP-aP9COyn-7IeBkEM&quot;</span>,
  <span class="hljs-string">&quot;lsp_asset_amount&quot;</span>: <span class="hljs-number">5000</span>,
  <span class="hljs-string">&quot;client_asset_amount&quot;</span>: <span class="hljs-number">2500</span>
}
</code></pre>
<h4 id="313-get-order">3.1.3 Get Order</h4>
<h5 id="post-apiv1lsps1getorder"><code>POST /api/v1/lsps1/get_order</code></h5>
<p><strong>Description:</strong> Retrieve information about an existing order.</p>
<p><strong>Request Body:</strong></p>
<ul>
<li><code>order_id</code>: The unique identifier of the order to retrieve.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;order_id&quot;</span>: <span class="hljs-string">&quot;550e8400-e29b-41d4-a716-446655440000&quot;</span>
}
</code></pre>
<p><strong>Response:</strong> The response structure is identical to the response of the <code>create_order</code> endpoint.</p>
<h3 id="32-market-apis">3.2 Market APIs</h3>
<h4 id="321-list-assets">3.2.1 List Assets</h4>
<h5 id="get-apiv1marketassets"><code>GET /api/v1/market/assets</code></h5>
<p><strong>Description:</strong> Fetch the list of assets available for trading on the RGB Lightning Node.</p>
<p><strong>Response:</strong></p>
<ul>
<li><code>assets</code>: Array of supported assets, including their IDs, tickers, names, and other details.</li>
<li><code>network</code>: Indicates whether the response pertains to the mainnet or testnet.</li>
<li><code>timestamp</code>: The server-side timestamp of the response.</li>
</ul>
<p><strong>Example Response:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;assets&quot;</span>: [
    {
      <span class="hljs-string">&quot;asset_id&quot;</span>: <span class="hljs-string">&quot;rgb:2NZGjyz-pJePUgegh-RLHbpx1Hy-iZMagWiZZ-qY4AxGymW-yCEYwwB&quot;</span>,
      <span class="hljs-string">&quot;asset_iface&quot;</span>: <span class="hljs-string">&quot;RGB20&quot;</span>,
      <span class="hljs-string">&quot;ticker&quot;</span>: <span class="hljs-string">&quot;USDT&quot;</span>,
      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Tether USD&quot;</span>,
      <span class="hljs-string">&quot;precision&quot;</span>: <span class="hljs-number">6</span>,
      <span class="hljs-string">&quot;issued_supply&quot;</span>: <span class="hljs-number">100000000000</span>,
      <span class="hljs-string">&quot;media&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;is_active&quot;</span>: <span class="hljs-literal">true</span>
    },
    {
      <span class="hljs-string">&quot;asset_id&quot;</span>: <span class="hljs-string">&quot;rgb:2AqCRS7-BAchKZra7-nmyQz7z68-itsY6o85v-z8gQJAXMD-evdFnKz&quot;</span>,
      <span class="hljs-string">&quot;asset_iface&quot;</span>: <span class="hljs-string">&quot;RGB20&quot;</span>,
      <span class="hljs-string">&quot;ticker&quot;</span>: <span class="hljs-string">&quot;ETH&quot;</span>,
      <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Ethereum&quot;</span>,
      <span class="hljs-string">&quot;precision&quot;</span>: <span class="hljs-number">8</span>,
      <span class="hljs-string">&quot;issued_supply&quot;</span>: <span class="hljs-number">100000000000</span>,
      <span class="hljs-string">&quot;media&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;is_active&quot;</span>: <span class="hljs-literal">true</span>
    }
  ],
  <span class="hljs-string">&quot;network&quot;</span>: <span class="hljs-string">&quot;regtest&quot;</span>,
  <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-number">1724676126</span>
}
</code></pre>
<h4 id="322-list-trading-pairs">3.2.2 List Trading Pairs</h4>
<h5 id="get-apiv1marketpairs"><code>GET /api/v1/market/pairs</code></h5>
<p><strong>Description:</strong> Retrieve the list of supported trading pairs for swap operations.</p>
<p><strong>Response:</strong></p>
<ul>
<li><code>pairs</code>: Array of supported trading pairs, including details about base and quote assets, order size limits, and precision.</li>
</ul>
<p><strong>Example Response:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;pairs&quot;</span>: [
    {
      <span class="hljs-string">&quot;base_asset&quot;</span>: <span class="hljs-string">&quot;BTC&quot;</span>,
      <span class="hljs-string">&quot;base_asset_id&quot;</span>: <span class="hljs-string">&quot;BTC&quot;</span>,
      <span class="hljs-string">&quot;quote_asset&quot;</span>: <span class="hljs-string">&quot;USDT&quot;</span>,
      <span class="hljs-string">&quot;quote_asset_id&quot;</span>: <span class="hljs-string">&quot;rgb:2NZGjyz-pJePUgegh-RLHbpx1Hy-iZMagWiZZ-qY4AxGymW-yCEYwwB&quot;</span>,
      <span class="hljs-string">&quot;is_active&quot;</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-string">&quot;min_order_size&quot;</span>: <span class="hljs-number">1000</span>,
      <span class="hljs-string">&quot;max_order_size&quot;</span>: <span class="hljs-number">1000000</span>,
      <span class="hljs-string">&quot;price_precision&quot;</span>: <span class="hljs-number">2</span>,
      <span class="hljs-string">&quot;quantity_precision&quot;</span>: <span class="hljs-number">0</span>
    },
    {
      <span class="hljs-string">&quot;base_asset&quot;</span>: <span class="hljs-string">&quot;ETH&quot;</span>,
      <span class="hljs-string">&quot;base_asset_id&quot;</span>: <span class="hljs-string">&quot;rgb:2AqCRS7-BAchKZra7-nmyQz7z68-itsY6o85v-z8gQJAXMD-evdFnKz&quot;</span>,
      <span class="hljs-string">&quot;quote_asset&quot;</span>: <span class="hljs-string">&quot;BTC&quot;</span>,
      <span class="hljs-string">&quot;quote_asset_id&quot;</span>: <span class="hljs-string">&quot;BTC&quot;</span>,
      <span class="hljs-string">&quot;is_active&quot;</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-string">&quot;min_order_size&quot;</span>: <span class="hljs-number">0.001</span>,
      <span class="hljs-string">&quot;max_order_size&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;price_precision&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;quantity_precision&quot;</span>: <span class="hljs-number">8</span>
    },
    {
      <span class="hljs-string">&quot;base_asset&quot;</span>: <span class="hljs-string">&quot;ETH&quot;</span>,
      <span class="hljs-string">&quot;base_asset_id&quot;</span>: <span class="hljs-string">&quot;rgb:2AqCRS7-BAchKZra7-nmyQz7z68-itsY6o85v-z8gQJAXMD-evdFnKz&quot;</span>,
      <span class="hljs-string">&quot;quote_asset&quot;</span>: <span class="hljs-string">&quot;USDT&quot;</span>,
      <span class="hljs-string">&quot;quote_asset_id&quot;</span>: <span class="hljs-string">&quot;rgb:2NZGjyz-pJePUgegh-RLHbpx1Hy-iZMagWiZZ-qY4AxGymW-yCEYwwB&quot;</span>,
      <span class="hljs-string">&quot;is_active&quot;</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-string">&quot;min_order_size&quot;</span>: <span class="hljs-number">0.001</span>,
      <span class="hljs-string">&quot;max_order_size&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;price_precision&quot;</span>: <span class="hljs-number">2</span>,
      <span class="hljs-string">&quot;quantity_precision&quot;</span>: <span class="hljs-number">8</span>
    }
  ]
}
</code></pre>
<h3 id="33-swap-apis">3.3 Swap APIs</h3>
<h4 id="331-get-node-information">3.3.1 Get Node Information</h4>
<h5 id="get-apiv1swapsnodeinfo"><code>GET /api/v1/swaps/nodeinfo</code></h5>
<p><strong>Description:</strong> Retrieve information about the RGB Lightning Node.</p>
<p><strong>Response:</strong></p>
<ul>
<li>Various node information details.</li>
</ul>
<p><strong>Example Response:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;node_id&quot;</span>: <span class="hljs-string">&quot;03e7156ae33b0a208d0744199163177e909e80176e55d97a2f221ede0f934dd9ad&quot;</span>,
  <span class="hljs-string">&quot;alias&quot;</span>: <span class="hljs-string">&quot;RGB-LSP-Node&quot;</span>,
  <span class="hljs-string">&quot;color&quot;</span>: <span class="hljs-string">&quot;#000000&quot;</span>,
  <span class="hljs-string">&quot;num_peers&quot;</span>: <span class="hljs-number">5</span>,
  <span class="hljs-string">&quot;num_channels&quot;</span>: <span class="hljs-number">10</span>,
  <span class="hljs-string">&quot;block_height&quot;</span>: <span class="hljs-number">700000</span>,
  <span class="hljs-string">&quot;synced_to_chain&quot;</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<h4 id="332-real-time-price-updates">3.3.2 Real-time Price Updates</h4>
<h5 id="websocket-wsstestnetkaleidoswapcomwsclientid">WebSocket: <code>wss://testnet.kaleidoswap.com/ws/{client_id}</code></h5>
<p><strong>Description:</strong> Establish a WebSocket connection to subscribe to real-time price updates for specific trading pairs.</p>
<p><strong>Connection:</strong></p>
<ul>
<li>Replace <code>{client_id}</code> with a unique identifier for your client.</li>
</ul>
<p><strong>Subscription:</strong>
To subscribe to a trading pair, send a JSON message with the following format:</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;action&quot;</span>: <span class="hljs-string">&quot;subscribe&quot;</span>,
  <span class="hljs-string">&quot;pair&quot;</span>: <span class="hljs-string">&quot;BTC/USDT&quot;</span>
}
</code></pre>
<p>To unsubscribe from a trading pair:</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;action&quot;</span>: <span class="hljs-string">&quot;unsubscribe&quot;</span>,
  <span class="hljs-string">&quot;pair&quot;</span>: <span class="hljs-string">&quot;BTC/USDT&quot;</span>
}
</code></pre>
<p><strong>Response:</strong> 
The server will stream JSON objects with price updates for subscribed pairs:</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;action&quot;</span>: <span class="hljs-string">&quot;priceUpdate&quot;</span>,
  <span class="hljs-string">&quot;data&quot;</span>: {
    <span class="hljs-string">&quot;buyPrice&quot;</span>: <span class="hljs-number">3000000</span>,
    <span class="hljs-string">&quot;sellPrice&quot;</span>: <span class="hljs-number">3001000</span>,
    <span class="hljs-string">&quot;markPrice&quot;</span>: <span class="hljs-number">3000500</span>,
    <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;550e8400-e29b-41d4-a716-446655440000&quot;</span>,
    <span class="hljs-string">&quot;pair&quot;</span>: <span class="hljs-string">&quot;BTC/USDT&quot;</span>,
    <span class="hljs-string">&quot;size&quot;</span>: <span class="hljs-number">100000000</span>,
    <span class="hljs-string">&quot;timestamp&quot;</span>: <span class="hljs-string">&quot;2023-08-28T12:00:00Z&quot;</span>
  }
}
</code></pre>
<p><strong>Note:</strong> </p>
<ul>
<li>The server validates the requested pair against the list of available pairs. If an invalid pair is requested, the subscription will be ignored.</li>
<li>Clients can subscribe to multiple pairs by sending multiple subscription messages.</li>
<li>The WebSocket connection will remain open until the client disconnects or a network error occurs.</li>
</ul>
<h4 id="333-initiate-swap">3.3.3 Initiate Swap</h4>
<h5 id="post-apiv1swapsinit"><code>POST /api/v1/swaps/init</code></h5>
<p><strong>Description:</strong> Initiate a swap based on the price update received via WebSocket.</p>
<p><strong>Request Body:</strong></p>
<ul>
<li><code>request_for_quotation_id</code>: The ID of the price update received via WebSocket.</li>
<li><code>from_asset</code>: The RGB asset ID to swap from.</li>
<li><code>from_amount</code>: The amount of the asset to swap from.</li>
<li><code>to_asset</code>: The RGB asset ID to swap to.</li>
<li><code>to_amount</code>: The amount of the asset to swap to.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;request_for_quotation_id&quot;</span>: <span class="hljs-string">&quot;550e8400-e29b-41d4-a716-446655440000&quot;</span>,
  <span class="hljs-string">&quot;from_asset&quot;</span>: <span class="hljs-string">&quot;BTC&quot;</span>,
  <span class="hljs-string">&quot;from_amount&quot;</span>: <span class="hljs-number">100000000</span>,
  <span class="hljs-string">&quot;to_asset&quot;</span>: <span class="hljs-string">&quot;rgb:2NZGjyz-pJePUgegh-RLHbpx1Hy-iZMagWiZZ-qY4AxGymW-yCEYwwB&quot;</span>,
  <span class="hljs-string">&quot;to_amount&quot;</span>: <span class="hljs-number">3000000000</span>
}
</code></pre>
<p><strong>Response:</strong></p>
<ul>
<li><code>swapstring</code>: A string representing the swap to be executed.</li>
<li><code>payment_hash</code>: The payment hash associated with the swap.</li>
</ul>
<p><strong>Example Response:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;swapstring&quot;</span>: <span class="hljs-string">&quot;30/rgb:2dkSTbr-jFhznbPmo-TQafzswCN-av4gTsJjX-ttx6CNou5-M98k8Zd/10/rgb:2eVw8uw-8G88LQ2tQ-kexM12SoD-nCX8DmQrw-yLMu6JDfK-xx1SCfc/1715896416/9d342c6ba006e24abee84a2e034a22d5e30c1f2599fb9c3574d46d3cde3d65a2&quot;</span>,
  <span class="hljs-string">&quot;payment_hash&quot;</span>: <span class="hljs-string">&quot;3febfae1e68b190c15461f4c2a3290f9af1dae63fd7d620d2bd61601869026cd&quot;</span>
}
</code></pre>
<h4 id="334-execute-swap">3.3.4 Execute Swap</h4>
<h5 id="post-apiv1swapsexecute"><code>POST /api/v1/swaps/execute</code></h5>
<p><strong>Description:</strong> Execute the swap after the initial setup.</p>
<p><strong>Request Body:</strong></p>
<ul>
<li><code>swapstring</code>: The swap string generated by the <code>init</code> endpoint.</li>
<li><code>taker_pubkey</code>: The public key of the taker.</li>
<li><code>payment_hash</code>: The payment hash associated with the swap.</li>
</ul>
<p><strong>Example Request:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;swapstring&quot;</span>: <span class="hljs-string">&quot;30/rgb:2dkSTbr-jFhznbPmo-TQafzswCN-av4gTsJjX-ttx6CNou5-M98k8Zd/10/rgb:2eVw8uw-8G88LQ2tQ-kexM12SoD-nCX8DmQrw-yLMu6JDfK-xx1SCfc/1715896416/9d342c6ba006e24abee84a2e034a22d5e30c1f2599fb9c3574d46d3cde3d65a2&quot;</span>,
  <span class="hljs-string">&quot;taker_pubkey&quot;</span>: <span class="hljs-string">&quot;03e7156ae33b0a208d0744199163177e909e80176e55d97a2f221ede0f934dd9ad&quot;</span>,
  <span class="hljs-string">&quot;payment_hash&quot;</span>: <span class="hljs-string">&quot;3febfae1e68b190c15461f4c2a3290f9af1dae63fd7d620d2bd61601869026cd&quot;</span>
}
</code></pre>
<p><strong>Response:</strong></p>
<ul>
<li><code>status</code>: Status code of the swap execution.</li>
<li><code>message</code>: Additional details about the execution.</li>
</ul>
<p><strong>Example Response:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-number">200</span>,
  <span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;Swap executed successfully&quot;</span>
}
</code></pre>
<h2 id="4-error-handling">4. Error Handling</h2>
<p>The API uses standard HTTP status codes to indicate the success or failure of a request. Errors are returned in the following format:</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;detail&quot;</span>: <span class="hljs-string">&quot;Error message here&quot;</span>
}
</code></pre>
<h3 id="common-errors">Common Errors</h3>
<ul>
<li><code>400 Bad Request</code>: The request parameters are invalid or missing.</li>
<li><code>404 Not Found</code>: The requested resource could not be found.</li>
<li><code>500 Internal Server Error</code>: An unexpected error occurred on the server.</li>
</ul>
<p>For WebSocket connections, errors will be sent as JSON messages through the WebSocket, and in case of critical errors, the connection may be closed by the server.</p>
<h2 id="5-license">5. License</h2>
<p>This API is licensed under the MIT License. For more information, please refer to the LICENSE file in the repository.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="./#2-getting-started" class="navigation navigation-next navigation-unique" aria-label="Next page: Getting Started">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Introduction","level":"1.1","depth":1,"next":{"title":"Getting Started","level":"1.2","depth":1,"anchor":"#2-getting-started","path":"README.md","ref":"README.md#2-getting-started","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"README.md","mtime":"2024-08-26T18:08:44.294Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-08-26T18:14:29.569Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

